DataMark
=========

Semantic data manager

Abstraction
------------
操作とデータに関する抽象化について詰める。

- Data
  - Filesystemに基本的に対応する
  - Filesystemとは別に独自にファイルに対する属性を保持する
  - Filesystem自体のTreeとしての性質はあまり考慮しない
- Link
  - 複数のData+Linkを関係つける(一対一ではない)
  - 時系列データをひとまとまりとして認識する
  - Link自体に属性が保持できる
- Operation
  - dataを操作する(mv, cp, rm, ln)
  - 自作スクリプト等でdataを生成する
  - 図を生成する
  - ipynb, shell script等はfileであり、operationでもある。

基本的に数値計算を実効するコードなり、データがあり、
それを解析する過程を考える。
どの計算がどのバージョンの計算であるかはかなり重要な情報となる。
これを把握するにはデータの処理に関する各操作が必要になってくる。
この部分を把握できるようにOperationを導入する必要があるように思える。
自作のスクリプトは全て--versionでgitのhashが出力できるようになっているべき。

解決すべき問題の方の把握があまり出来ていないような気がする。
DataProcessorまでの目的はデータを一覧し、検索する事が目的だった。
そこに後からdpstartを実装し、計算自体とデータを関係つけようとした。
データのインデックス化はこのプロジェクトでも重要な位置を占める。
時間がたった後にあのデータどこに行ったかな？という問題を解決するのが
このプロジェクトの一つの有用性である。
ここでこの図はどこで生成したかな？という問に対して
DataProcessorでは十分に解答できなかった点が
この新しいプロジェクトを立ち上げる原点になりうる。
これには図の生成の過程を抽象化し、扱えるようにする必要がある。
典型的には図を生成する方法は以下の２つ：

- ipynb中で生成
- shell script, 実行ファイルによって生成

これを管理し、時間が立った後にも同じデータから同じ図を生成できるように
することが今回の目的である。

生成する関係、つまりデータと図の関係をつける事と、
再現可能性を担保することの間には大きな技術的問題がある。
再現可能性を担保することが必ずしも常に可能とは限らないし、
その必要がない場合も多い。

以上の議論でいくつか目的地点が見えてきた：

- data+linkの一覧
- linkの編集（生成・削除・変更）

これは最低限必要である。ここまではDataProcessorが概ね実現していた。
図の生成をどのように把握するべきか？
Linkはまとまりを表現するものであって、DataProcessorのproject/tagに相当する。
一方でLink（時系列）から図を生成する過程は同等なものの結合でない。
よって別の関係性を導入すべきだろう。
付随している関係、あるいは補足するという意味でsupplementなる関係性を導入すべき。
これは図とLinkが紐付いていたらLinkから生成した図であり、
ipynbが紐付いているときはそのLinkを使っているノートであるという意味になる。
これはLinkとは別概念になりが、そうするとLinkという表現は良くないように思える。
複数のものの集まりなのでset/class/assemblyあたりが妥当だろう。
プログラミング中の用語の混乱を避けるためにassemblyを使う事にしよう。
